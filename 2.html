<html lang="ja">
<head>
<meta charset="UTF-8">
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <hr>
    <h3>銀河素数が存在する確率</h3>
    10進数のギンガマンが銀河素数となる確率について、
    <BR>
    素数定理を用いて計算する。
    <BR>
    <BR>
    最上位桁Aから順番に整理してみる。
    <BR>
    最小素数を最小のギンガ数から順番に探索するなら、
    <BR>
    A=1である101022020130～191988989179の範囲内にギンガ素数が存在すれば
    <BR>
    最小側のA=1となる。
    <BR>
    <BR>
    同様に最大素数についても、最大のギンガ数から順番に探索するなら、
    <BR>
    A=9である989877878968～909011010920の範囲内にギンガ素数が存在すれば
    <BR>
    最大側のA=9となる。
    <BR>
    <BR>
    つまり最小側、最大側共にこの範囲内にギンガ素数が存在するなら
    <BR>
    A部分は銀河素数の条件を満たす。
    <BR>
    <BR>
    最小ギンガ素数が101022020130～191988989179の範囲内に存在する確率を計算する。
    <BR>
    B,C,D部分には1以外の0～9の数が当てはまるので、
    <BR>
    取得する数は全部で
    \({}_9 \mathrm{ P }_3=504\)
    通り。
    <BR>
    範囲内に存在する素数の総数は、素数定理を用いると
    <BR>
    \(
    \frac{191988989179}{\ln191988989179}
    -\frac{101022020130}{\ln101022020130}
    =3402794423.69\ldots
    \)個存在する。
    <BR>
    ならば101022020130～191988989179の範囲内の数を504回取得して、
    <BR>
    その中に1つ以上素数が存在する確率は
    <BR>
    \(
    1-(1-\frac{3402794423.69\ldots}{191988989179-101022020130})
    ^{504}=0.99999999548\ldots
    \)
    <BR>
    つまりほぼ100%の確率で最小側のAは1となる。
    <BR>
    <BR>
    同様に最大側のAも計算すると、
    <BR>
    \(
    1-(1-\frac{
    \frac{989877878968}{\ln989877878968}
    -\frac{909011010920}{\ln909011010920}
    }{989877878968-909011010920})
    ^{{
    }_9 \mathrm{ P }_3}
    =0.9999999836\ldots
    \)
    <br>
    最大側のAもほぼ100%の確率で1となり、
    <br>
    A部分が1,9の組み合わせで銀河素数の条件を満たす確率は、
    <br>
    \(
    0.9999999836\ldots\times0.99999999548\ldots=0.999999979\ldots\\
    =99.9999979\ldots\%
    \)
    <BR>
    Bについて
    <BR>
    Aが1,9の組み合わせであることを前提として、
    <BR>
    B部分が銀河素数の条件を満たす確率を計算する。
    <BR>
    Bは最下位桁に存在する要素なので、10進数を素因数分解した数の倍数と一致する場合、必ず合成数となる。
    <BR>
    \(10=2\times5\)なので、Bが2か5の倍数である{0,2,4,5,6,8}のときに、必ず合成数となる。
    <BR>
    なので素数は全て最下位桁={1,3,7,9}の範囲内に存在していて、
    <BR>
    最小素数の
    \(B=\{3,7,9\}\)
    、最大素数の
    \(B=\{1,3,7\}\)
    のいずれかを当てはめることになる。
    <BR>
    対象範囲内のギンガ数を一つ取り、それが素数である確率は以下の通りとなる。
    <BR>
    \(
    \frac{範囲内の素数の総数}{(対象範囲の最大値-最小値)\times(4/10)}
    \)
    <BR>
    <BR>
    最小素数のB
    <div class="table-math">
        <table>
            <tbody>
                <tr><td>最小素数のBが3となる確率</td><td>
                    \(
                    1-\left(
                        1-\frac{
                            \frac{131399393183}{\ln131399393183}
                            -\frac{131300303123}{\ln131300303123}
                        }{(131399393183-131300303123)\times(4/10)}
                    \right)
                    ^{{}_8 \mathrm{ P }_2}
                    \)
                </td></tr>
                <tr><td>最小素数のBが7となる確率</td><td>
                    \(
                    (1-Bが3となる確率)\\
                    \times
                     \left(
                     1-(1-\frac{
                        \frac{171799797187}{\ln171799797187}
                        -\frac{171700707127}{\ln171700707127}
                    }{(171799797187-171700707127)\times(4/10)})
                    ^{{}_8 \mathrm{ P }_2}
                    \right)
                    \)
                </td></tr>
                <tr><td>最小素数のBが9となる確率</td><td>
                    \(
                    (1-Bが3または7となる確率)\\
                    \times
                     \left(
                    1-(1-\frac{
                        \frac{191988989179}{\ln191988989179}
                        -\frac{191900909129}{\ln191900909129}
                    }{(191988989179-191900909129)\times(4/10)})
                    ^{{}_8 \mathrm{ P }_2}
                    \right)
                    \)
                </td></tr>
            </tbody>
        </table>
    </div>
    最大素数のB
    <div class="table-math">
        <table>
            <tbody>
                <tr><td>最大素数のBが7となる確率</td><td>
                    \(
                    1-\left(1-\frac{
                        \frac{979788787967}{\ln979788787967}
                        -\frac{979700707917}{\ln979700707917}
                    }{(979788787967-979700707917)\times(4/10)}\right)
                    ^{{}_8 \mathrm{ P }_2}
                    \)
                </td></tr>
                <tr><td>最大素数のBが3となる確率</td><td>
                    \(
                    (1-Bが7となる確率)\\
                    \times
                     \left(
                     1-(1-\frac{
                        \frac{939388383973}{\ln939388383973}
                        -\frac{939300303913}{\ln939300303913}
                    }{(939388383973-939300303913)\times(4/10)})
                    ^{{}_8 \mathrm{ P }_2}
                    \right)
                    \)
                </td></tr>
                <tr><td>最大素数のBが1となる確率</td><td>
                    \(
                    (1-Bが7または3となる確率)\\
                    \times
                     \left(
                    1-(1-\frac{
                        \frac{919188181971}{\ln919188181971}
                        -\frac{919100101921}{\ln919100101921}
                    }{(919188181971-919100101921)\times(4/10)})
                    ^{{}_8 \mathrm{ P }_2}
                    \right)
                    \)
                </td></tr>
            </tbody>
        </table>
    </div>
    <br>
    上記を計算すると、
    <br>
    最小素数のBと最大素数のBが銀河素数の条件を満たす組み合わせとなる確率は
    <br>
    約99%になる。
    <br>
    <br>
    <br>
    Cについて
    <br>
    Aが1,9の組み合わせかつ、
    <br>
    Bが3,7の組み合わせであることを前提として、
    <br>
    C部分が銀河素数の条件を満たす確率を計算する。
    <br>
    Bと違い、Cは最下位桁に存在しない数なので、
    A,Bで使用していない以下全ての数が当てはまり得る。
    <br>
    最小側\(C=\{0,2,4,5,6,7,8,9\}\)
    <br>
    最大側\(C=\{0,1,2,3,4,5,6,8\}\)
    <br>
    Bと同様に素数定理を用い、
    <br>
    Cに数が当てはまる確率をそれぞれ計算すると
    <br>
    最小側はそれぞれ
    \(約42\%\times(1-手前の数が当てはまる確率)\)
    <br>
    最大側はそれぞれ
    \(約39\%\times(1-手前の数が当てはまる確率)\)
    <br>
    よってCに当てはまる数が銀河素数の条件を満たす確率は以下の通りとなる。
    <br>
    <div class="table-math">
        <table>
            <tbody>
                <tr>
                    <td>①</td>
                    <td>最小側C=0となる確率<BR>（銀河素数の必要条件を満たさない確率）</td>
                    <td>約42%</td>
                </tr>
                <tr>
                    <td>②</td>
                    <td>①以外かつ<BR>最小側C=2かつ<br>最大側C=8となる確率</td>
                    <td>約10%</td>
                </tr>
                <tr>
                    <td>③</td>
                    <td>①②以外かつ<BR>最小側C=4かつ<br>最大側C=6となる確率</td>
                    <td>約3%</td>
                </tr>
                <tr>
                    <td>④</td>
                    <td>①～③以外かつ<BR>最小側C=5かつ<br>最大側C=5となる確率</td>
                    <td>約1%</td>
                </tr>
                <tr>
                    <td>⑤</td>
                    <td>①～④以外かつ<BR>最小側C=6かつ<br>最大側C=4となる確率</td>
                    <td>ほぼ0</td>
                </tr>
                <tr>
                    <td>⑥</td>
                    <td>①～⑤以外かつ<BR>最小側C=7かつ<br>最大側C=3となる確率</td>
                    <td>ほぼ0</td>
                </tr>
                <tr>
                    <td>⑦</td>
                    <td>①～⑥以外かつ<BR>最小側C=8かつ<br>最大側C=2となる確率</td>
                    <td>ほぼ0</td>
                </tr>
                <tr>
                    <td>⑧</td>
                    <td>①～⑦以外かつ<BR>最小側C=9かつ<br>最大側C=1となる確率</td>
                    <td>ほぼ0</td>
                </tr>
            </tbody>
        </table>
    </div>
    <br>
    ②＋③＋…＋⑧＝14％
    <br>
    Cが銀河素数の条件を満たす確率は約14％となる。
    <br>
    <br>
    Dについて
    <br>
    Aが1,9の組み合わせかつ、
    <br>
    Bが3,7の組み合わせであり、
    <br>
    Cも銀河素数の条件を満たす組み合わせであることを前提として、
    <br>
    D部分が銀河素数の条件を満たす確率を計算する。
    <br>
    <br>
    Cと同様にDも最下位桁に存在しない数なので、
    <br>
    A,B,Cで使用していない全ての数が当てはまり得る。
    <br>
    最小側D={0,2,4,5,6,7,8,9}からCで使用した数を抜いた7種類
    <br>
    最大側D={0,1,2,3,4,5,6,8}からCで使用した数を抜いた7種類
    <br>
    このうち、銀河素数の条件を満たす組み合わせは以下7通りのみ。
    <div class="table-math">
        <table>
            <tbody>
                <tr><td>最小側</td><td>最大側</td></tr>
                <tr><td>2</td><td>8</td></tr>
                <tr><td>4</td><td>6</td></tr>
                <tr><td>5</td><td>5</td></tr>
                <tr><td>6</td><td>4</td></tr>
                <tr><td>7</td><td>3</td></tr>
                <tr><td>8</td><td>2</td></tr>
                <tr><td>9</td><td>1</td></tr>
            </tbody>
        </table>
    </div>
    <br>
    Cに当てはまる数でこのうちの1組は使用しているので、
    <br>
    Dが銀河素数の条件を満たす組み合わせは全体の内の6通りとなり、
    <br>
    \(\frac{6}{7^2}\)=0.12244=12.244%となる。
    <br>
    <br>
    <br>
    結果
    <br>
    上記では省略したが、Bが「7と3」または「9と1」の組み合わせとなった上で銀河素数の条件を満たす確率も0ではない。
    <br>
    同様に計算してA,B,C,Dそれぞれの確率を掛け合わせると
    <br>
    結果は約2%となる。
    <br>
    この計算を基数10以外にも用いると以下の通りで、
    <br>
    厳密に計算しても銀河素数の発生は小さい基数の範囲でしか期待出来ない事が解る。
    <canvas id="GPNpossibility"></canvas>
    <script>
        var ctx = document.getElementById('GPNpossibility').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [
                    4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36
                ],
                datasets: [
                    {
                        label: 'ABABCCBCBADBの銀河素数発生確率',
                        data: [
                            0.0,0.0,0.009192408447402385,0.003047467366414479,0.017494410550388435,0.010610534181826154,0.019464676901772338,0.009042918136484866,0.01626690028949925,0.009433246423162083,0.013673114374063338,0.011458739269827125,0.011729739968270987,0.008531692037349584,0.008883848626378293,0.007962979495143898,0.008370229330983176,0.008204842467694245,0.007705681151647361,0.006965736720991407,0.005170339102697477,0.0068242823489604865,0.006011017671660319,0.006416136889476692,0.004879897819664819,0.005787369020862058,0.001973025581177276,0.005099656812807445,0.00456825722230177,0.004917277763209629,0.0038424744960721784,0.004725042937368239,0.0018585728892225339
                        ]
                    }
                ]
            },
            options: {
                scales: {
                    xAxes: [{ scaleLabel: { display: true,labelString: '基数' },}]
                }
            }
        });
    </script>
    <hr>
</body>
</html>
